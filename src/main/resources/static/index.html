<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/all.css">
    <link rel="stylesheet" href="plugins/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="plugins/fontawesome/css/all.min.css">
    <link rel="icon" type="image/x-icon" href="../img/screwdriver-wrench-solid.svg">
    <title>Ferragem Avila</title>
    <!-- Quando for criar as novas páginas na pasta views, ajustar todos os diretórios incluindo ../ -->
</head>
<body onload="loadVendaLocalStorage()">

    <div class="flex-div">

        <aside class="sidebar-left">
            <div class="sidebar-title">
                <img src="img/logo.jpg" alt="Logo Ferragem Avila">
                <h2>Ferragem Avila PDV</h2>
            </div>
            <div class="menu">
                <ul>
                    <li>
                        <i class="fa-solid fa-cart-arrow-down"></i>
                        <a href="index.html">Página inicial</a>
                    </li>
                    <li>
                        <i class="fa-solid fa-box"></i>
                        <a href="views/produtos.html">Produtos</a>
                    </li>
                    <li>
                        <i class="fa-solid fa-list"></i>
                        <a href="">Histórico de vendas</a>
                    </li>
                    <li>
                        <i class="fa-solid fa-chart-line"></i>
                        <a href="views/dashboard.html">Dashboard</a>
                    </li>
                </ul>
            </div>
        </aside>
        
        <main>
        
            <header>
                <i class="fa-solid fa-cart-arrow-down"></i>
                <p class="header-title">Venda</p>
            </header>
        
            <div class="main-content">

                <div class="panel-row">

                    <div id="divPesquisaId-index" class="index-panel">
                        <input id="inserir_id" class="form-control" type="number" min="0" max="999999" placeholder="Inserir por id...">
                    </div>
                    
                    <div class="index-panel">
                        <input id="inserir_cod_barras" class="form-control" type="number" min="0" max="999999" placeholder="Inserir por código de barras...">
                    </div>
                    
                    <div class="index-panel-btn">
                        <button id="botao_adicionar" type="submit" class="btn btn-primary" onclick="adicionarItem()">Adicionar</button>
                    </div>

                    <div class="index-panel-nro-venda">
                        <input id="venda_id" class="form-control" type="number" readonly="readonly">
                    </div>

                </div> 
                
                <!-- Fim da linha 1 -->
                
                <div class="index-panel-row-venda">

                    <div class="panel-full">
                        <table id="resumoVenda" class="table table-striped">
                            <thead class="thead-dark">
                                <tr>
                                    <th>Item</th>
                                    <th>Descrição Produto</th>
                                    <th class="icon-centralized">Valor</th>
                                    <th class="icon-centralized">Qtd. Produto</th>
                                    <th class="icon-centralized">Código de barras</th>
                                    <th class="icon-centralized">Editar</th>
                                    <th class="icon-centralized">Excluir</th>
                                </tr>
                            </thead>
                            <tbody>
                        
                            </tbody>
                        </table>
                    </div>

                    <div class="index-panel-info-venda">
                        <div class="index-panel-info">
                            <fieldset>
                                <legend>Número do item</legend>
                                <input id="nroItem" class="form-control" type="number" min="0" max="999999" readonly="readonly">
                            </fieldset>
                        </div>
                        
                        <div class="index-panel-info">
                            <fieldset>
                                <legend>Descrição do item</legend>
                                <input id="descItem" class="form-control" type="text" readonly="readonly">
                            </fieldset>
                        </div>
                        
                        <div class="index-panel-info-50">
                            <fieldset>
                                <legend>Quantidade</legend>
                                <input id="qtd2" class="form-control" type="number" min="0" max="999999" readonly="readonly">
                            </fieldset>

                            <fieldset>
                                <legend>Vlr. unitário</legend>
                                <input id="vlrUnit" class="form-control" type="text" readonly="readonly">
                            </fieldset>
                        </div>
                        
                        <div class="index-panel-info">
                            <fieldset>
                                <legend>Valor total item</legend>
                                <input id="vlrTotal" class="form-control" type="text" readonly="readonly">
                            </fieldset>
                        </div>

                        <div class="index-panel-info">
                            <fieldset>
                                <legend>Total a pagar</legend>
                                <input id="totalPag" class="form-control" type="text" readonly="readonly">
                            </fieldset>
                        </div>
                        
                        <div class="index-panel-info-btn">
                            <button id="botao_cancelar_venda" type="button" class="btn btn-danger" onclick="cancelarVenda()">Cancelar</button>
                            <button id="botao_concluir_venda" type="button" class="btn btn-success" onclick="confirmarVenda()">Concluir</button>
                        </div>
                    </div>
                    
                </div>
                
            </div>
        
        </main>
        
    </div>    

    <div class="modal fade" id="modalAtualizarQtdItem" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalCenterTitle">Alterar quantidade</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
    
                    <form action="" id="formCadastroProduto">
                        <div class="form-group col-md-12">
                            <label class="labelText" for="id">ID:</label>
                            <input type="text" class="form-control" id="id" readonly="readonly">
                        </div>
                    
                        <div class="form-group col-md-12">
                            <label class="labelText" for="quantidadeProd">Quantidade do Produto:</label>
                            <input type="number" class="form-control" id="quantidadeProd"
                                placeholder="Digite a quantidade de produtos do item (somente números)...">
                        </div>
                    </form>
    
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-dismiss="modal">Fechar</button>
                    <button type="button" class="btn btn-success" onclick="salvarProduto()">Salvar</button>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
    <script src="plugins/bootstrap/js/bootstrap.min.js"></script>
    <script src="plugins/fontawesome/js/all.min.js"></script>    
    <script src="js/script-item.js"></script>
</body>
</html>